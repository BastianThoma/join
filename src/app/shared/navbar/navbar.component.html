<!-- Hauptnavigation für die Anwendung, barrierefrei und semantisch -->

<nav class="navbar" role="navigation" aria-label="Hauptnavigation">
  <!-- Hauptnavigationsbereich - nur für angemeldete Benutzer -->
  <ul class="navbar__list" role="menubar" *ngIf="user$ | async as user">
    <li
      *ngFor="let item of navItems"
      class="navbar__item"
      [ngClass]="{ 'navbar__item--active': getActive(item.route) }"
      role="none"
    >
      <a
        [routerLink]="item.route"
        class="navbar__link"
        role="menuitem"
        [attr.aria-current]="getActive(item.route) ? 'page' : null"
        tabindex="0"
        [attr.aria-label]="item.label"
      >
        <span class="navbar__icon" aria-hidden="true">
          <img
            [src]="
              'assets/img/' +
              item.icon +
              (getActive(item.route) ? '_active.png' : '.png')
            "
            [alt]="''"
          />
        </span>
        <span class="navbar__label">{{ item.label }}</span>
      </a>
    </li>
  </ul>
  
  <!-- Platzhalter für nicht angemeldete Benutzer -->
  <div class="navbar__guest-placeholder" *ngIf="!(user$ | async)">
    <div class="navbar__guest-message">
      <span class="navbar__guest-text sr-only">
        Melden Sie sich an, um auf die Hauptnavigation zuzugreifen
      </span>
    </div>
  </div>

  <!-- Rechtliche Links - nur Desktop -->
  <footer
    class="navbar__legal"
    role="contentinfo"
    aria-label="Rechtliche Informationen"
  >
    <nav role="navigation" aria-label="Rechtliche Links">
      <a
        routerLink="/privacy-policy"
        class="navbar__legal-link"
        aria-describedby="navbar-privacy-description"
      >
        Privacy Policy
      </a>
      <a
        routerLink="/legal-notice"
        class="navbar__legal-link"
        aria-describedby="navbar-legal-description"
      >
        Legal Notice
      </a>

      <!-- Screen Reader Beschreibungen -->
      <div id="navbar-privacy-description" class="sr-only">
        Öffnet die Datenschutzerklärung
      </div>
      <div id="navbar-legal-description" class="sr-only">
        Öffnet das Impressum
      </div>
    </nav>
  </footer>
</nav>
